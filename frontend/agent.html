<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sentinel Auth - AI Agent Demo</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500&family=Space+Grotesk:wght@400;500;700&display=swap"
        rel="stylesheet">
</head>

<body>
    <canvas id="ambient-canvas" class="ambient-canvas" aria-hidden="true"></canvas>
    <div class="page-backdrop-title" data-background-title>Sentinel Auth</div>
    <div class="page-shell">
        <main class="layout">
            <nav class="topbar panel">
                <a class="brand-link" href="/">Sentinel Auth</a>
                <div class="topbar-links">
                    <a class="topbar-link" href="/activity.html">Dashboard</a>
                    <a class="topbar-link" href="/dashboard.html">Keys</a>
                    <a class="topbar-link" href="/documentation/index.html">Documentation</a>
                    <a class="topbar-link topbar-link-active" href="/agent.html">Agent Demo</a>
                </div>
            </nav>

            <section class="hero panel">
                <p class="eyebrow">Interactive Demo</p>
                <h1>Watch an AI agent ask for permission before it acts.</h1>
                <p class="hero-copy">
                    This demo simulates a financial AI agent. You give it a natural language command. It translates that
                    command into a JSON intent and asks Sentinel Auth for authorization against your active policy.
                </p>
            </section>

            <section class="grid">
                <section class="panel">
                    <div class="section-heading">
                        <p class="eyebrow">Input</p>
                        <h2>Agent Configuration</h2>
                    </div>

                    <form id="agent-form" class="stack">
                        <label>
                            <span>API base URL</span>
                            <input id="agent-api-base" type="text" placeholder="http://localhost:8000">
                        </label>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 14px;">
                            <label>
                                <span>API key</span>
                                <input id="agent-api-key" type="text" placeholder="ska_live_...">
                            </label>
                            <label>
                                <span>Policy ID</span>
                                <input id="agent-policy-id" type="text" placeholder="pol_...">
                            </label>
                        </div>
                        <label>
                            <span>Human Command</span>
                            <textarea id="human-command" rows="3"
                                placeholder="Examples:&#10;- Wire $4,500 to the treasury wallet to cover payroll&#10;- Buy 500 shares of AAPL&#10;- Delete the production database"></textarea>
                        </label>
                        <div class="action-row">
                            <button id="run-agent-button" class="btn btn-primary" type="submit">Run Agent
                                Process</button>
                        </div>
                    </form>
                </section>

                <section class="panel">
                    <div class="section-heading">
                        <p class="eyebrow">Output</p>
                        <h2>Execution Trace</h2>
                    </div>

                    <div class="output-card" style="margin-top: 0;">
                        <h3>1. Gemini's Intent</h3>
                        <p class="muted" style="margin-bottom: 10px;">The parsed JSON intent generated by the LLM from
                            your natural language command.</p>
                        <pre id="agent-intent-output" class="snippet">Waiting for command...</pre>
                    </div>

                    <div class="output-card">
                        <h3>2. Sentinel's Decision</h3>
                        <p class="muted" style="margin-bottom: 10px;">The authorization response from the proxy
                            evaluated against your active security policy.</p>
                        <div id="agent-decision-header" class="alert-card alert-neutral" style="margin-bottom: 10px;">
                            <strong>Ready</strong>
                        </div>
                        <pre id="agent-decision-output" class="snippet">Waiting for intent to be sent...</pre>
                    </div>
                </section>
            </section>
        </main>
    </div>

    <script type="module" src="/agent.js"></script>
    <script type="module" src="/background.js"></script>
</body>

</html>
